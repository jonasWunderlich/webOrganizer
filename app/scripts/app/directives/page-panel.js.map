{"version":3,"sources":["../../../scripts.babel/app/directives/page-panel.js"],"names":[],"mappings":"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","file":"page-panel.js","sourcesContent":["'use strict';\n\n/**\n * @ngdoc directive\n * @name newTa .directive:panel\n * @restrict EA\n * @scope\n * @description\n * Displays a Panel\n *\n * @Example\n * <page-panel site=\"site\" context=\"context\"></page-panel>\n *\n */\n\nangular.module('newTab')\n  .directive('pagePanel', function($log) {\n    return {\n      restrict: 'EA',\n      replace: true,\n      templateUrl: 'scripts/app/views/page-panel.html',\n      scope: {\n        'site':'=',\n        'context:':'='\n      },\n      link: function(scope, element, attrs) {\n\n\n        scope.getContextColor = function(site) {\n          if(site.context) {\n            if(site.context.indexOf('neutral') !== 0) {\n              return 'background:'+scope.context;\n            }\n          }\n        };\n\n        scope.getContextColorIfBookmark = function(site) {\n          if(site.context && site.bookmark) {\n            if(site.context.indexOf('neutral') !== 0) {\n              return 'background:'+scope.context;\n            }\n          }\n        };\n\n        scope.isTab = function(site) {\n          return site.tab;\n        };\n\n        scope.getPanelClasses = function(site) {\n\n          var _visited, _bookmark, _tab, _context;\n\n          _bookmark = (site.bookmark) ? 'bookmark' : '';\n          _tab = (site.tab) ? 'tab' : '';\n          _context = '';\n\n          switch (site.visitCount > 1) {\n            case (site.visitCount < 5):\n              _visited = 'visits-1';\n              break;\n            case (site.visitCount >= 5 && site.visitCount < 10):\n              _visited = 'visits-2';\n              break;\n            case (site.visitCount >= 10):\n              _visited = 'visits-3';\n              break;\n          }\n          return _visited + ' ' + _bookmark + ' ' + _tab + ' ' + _context;\n        };\n\n        scope.setBookmark = function(site) {\n          if(site.bookmark) {\n            chrome.bookmarks.remove(site.bookmark, function(result) {\n              $log.debug(\"Bookmark removed:\", result);\n              site.bookmark = false;\n            });\n          } else {\n            chrome.bookmarks.create({'parentId': site.context,\n              'title': site.title,\n              'url': site.url\n            }, function(result) {\n              $log.debug(\"Bookmark added:\", result);\n              site.bookmark = result.id;\n            });\n          }\n        };\n\n        scope.activateTab = function(tab) {\n          $log.debug('trying to activate tab', tab);\n          chrome.tabs.update(tab.id, {selected: true});\n        };\n\n        scope.toggleContext = function(context) {\n          $log.debug('Toggle Context', context);\n          $log.debug('Toggle Context', deactivatedTabs);\n\n          if(deactivatedTabs[context]) {\n            scope.createTabs(context);\n          } else {\n            scope.deactivateContext(context);\n          }\n        };\n\n      }\n    }\n  });\n"]}